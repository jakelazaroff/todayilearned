---
import Navigation from "../component/Navigation.astro";

interface Props {
  slug?: string;
}
---

<div class="wrapper">
  <nav class="nav">
    <a class="title" href="/"> Today I Learned</a>
    <p class="blurb">A collection of useful things I've learned.</p>
    <p class="blurb">By <a href="https://jakelazaroff.com">Jake Lazaroff</a></p>
    <Navigation slug={Astro.props.slug} />
  </nav>
  <main class="main">
    <slot />
    <ul class="footer">
      <li>
        <a href="https://github.com/jakelazaroff/todayilearned">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
            <path
              fill="currentColor"
              d="M5 13a.997.997 0 0 1-.707-.293l-4-4a.999.999 0 0 1 0-1.414l4-4a.999.999 0 1 1 1.414 1.414L2.414 8l3.293 3.293A.999.999 0 0 1 5 13ZM11 13a.999.999 0 0 1-.707-1.707L13.586 8l-3.293-3.293a.999.999 0 1 1 1.414-1.414l4 4a.999.999 0 0 1 0 1.414l-4 4A.997.997 0 0 1 11 13Z"
            >
            </path>
          </svg>
          <span>Source</span>
        </a>
      </li>
      <li>
        <a href="/rss.xml">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <g fill="currentColor">
              <circle cx="3" cy="13" r="2"></circle>
              <path d="M15 15h-2.7C12.3 8.8 7.2 3.7 1 3.7V1c7.7 0 14 6.3 14 14z"></path>
              <path d="M10.3 15H7.7c0-3.7-3-6.7-6.7-6.7V5.7c5.1 0 9.3 4.2 9.3 9.3z"></path>
            </g>
          </svg>
          <span>RSS feed</span>
        </a>
      </li>
    </ul>
  </main>
</div>

<style>
  .wrapper {
    display: grid;
    grid-template:
      "main" 1fr
      "nav" auto / auto;

    @media (min-width: 960px) {
      height: 100%;
      grid-template: "nav main" auto / minmax(auto, 40ch) 1fr;
    }
  }

  .nav,
  .main {
    padding: 24px 32px;

    @media (min-width: 960px) {
      height: 100%;
      overflow: auto;
    }
  }

  .nav {
    grid-area: nav;
    box-shadow: 1px 0 0 #00000022;
  }

  .main {
    grid-area: main;
    display: grid;
    grid-auto-flow: row;
  }

  .main > :global(:first-child:not([class])) {
    margin: 0;
  }

  .title {
    display: inline-block;
    margin-block-end: 16px;
    font-size: 1.5rem;
    text-decoration: none;
    color: black;
    font-weight: bold;
  }

  .footer {
    margin-top: auto;
    padding-block-start: 48px;
    line-height: 1.25;

    @media (min-width: 720px) {
      display: flex;
      align-items: center;
    }
  }

  @media (min-width: 720px) {
    .footer > li:not(:first-child)::before {
      content: "/";
      margin-inline: 24px;
      text-decoration: none;
      color: #00000022;
      font-weight: 900;
    }
  }

  .footer li {
    margin: 0;
  }

  .footer a {
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }
</style>
